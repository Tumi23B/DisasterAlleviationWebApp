@page
@model ResetPasswordModel
@{
    ViewData["Title"] = "Reset password";
}

<!-- Navigation Bar -->
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top border-bottom border-gold">
    <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="/">
            <img src="/images/logo.png" alt="Gift of the Givers Foundation" height="40" class="me-2">
            <span class="fw-bold text-success">Gift of the Givers</span>
        </a>
        <div class="navbar-nav ms-auto">
            <a class="nav-link text-success me-2 fw-semibold" asp-area="Identity" asp-page="/Account/Login">Login</a>
            <a class="btn btn-success rounded-pill px-4 shadow-sm fw-semibold" asp-area="Identity" asp-page="/Account/Register">Register</a>
        </div>
    </div>
</nav>

<!-- Reset Password Card -->
<div class="d-flex justify-content-center align-items-center min-vh-100 bg-light pt-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6 col-lg-5">
                <div class="card shadow-lg border-0 rounded-4">
                    <div class="card-body p-5">
                        <h2 class="text-center mb-3 text-success fw-bold">@ViewData["Title"]</h2>
                        <p class="text-center text-muted mb-4">Enter your email and new password to reset your account</p>
                        <hr class="mb-4 border-gold" />

                        <form method="post">
                            <div asp-validation-summary="ModelOnly" class="text-danger mb-3" role="alert"></div>
                            <input asp-for="Input.Code" type="hidden" />

                            <!-- Email -->
                            <div class="form-floating mb-3 position-relative">
                                <input asp-for="Input.Email" class="form-control ps-5 rounded-3 border-success shadow-sm" autocomplete="username" placeholder="name@example.com" />
                                <label asp-for="Input.Email">Email</label>
                                <i class="bi bi-envelope-fill position-absolute top-50 start-0 translate-middle-y ms-3 text-muted"></i>
                                <span asp-validation-for="Input.Email" class="text-danger"></span>
                            </div>

                            <!-- New Password -->
                            <div class="form-floating mb-3 position-relative">
                                <input asp-for="Input.Password" class="form-control ps-5 rounded-3 border-success shadow-sm" autocomplete="new-password" placeholder="New password" />
                                <label asp-for="Input.Password">New Password</label>
                                <i class="bi bi-lock-fill position-absolute top-50 start-0 translate-middle-y ms-3 text-muted"></i>
                                <span asp-validation-for="Input.Password" class="text-danger"></span>
                            </div>

                            <!-- Confirm Password -->
                            <div class="form-floating mb-4 position-relative">
                                <input asp-for="Input.ConfirmPassword" class="form-control ps-5 rounded-3 border-success shadow-sm" autocomplete="new-password" placeholder="Confirm password" />
                                <label asp-for="Input.ConfirmPassword">Confirm Password</label>
                                <i class="bi bi-lock-fill position-absolute top-50 start-0 translate-middle-y ms-3 text-muted"></i>
                                <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
                            </div>

                            <!-- Reset Button -->
                            <button type="submit" class="w-100 btn btn-lg btn-success mb-3 shadow-sm rounded-pill fw-bold">
                                Reset Password
                            </button>

                            <div class="text-center">
                                <p class="text-muted mb-0">
                                    Remember your password?
                                    <a asp-page="./Login" class="text-success text-decoration-none fw-semibold">Login here</a>
                                </p>
                                <p class="text-muted mb-0 mt-1">
                                    Don't have an account?
                                    <a asp-page="./Register" class="text-success text-decoration-none fw-semibold">Register</a>
                                </p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

<style>
    body {
        font-family: "Segoe UI", Roboto, Arial, sans-serif;
    }

    .form-control:focus {
        border-color: #006400;
        box-shadow: 0 0 0 .2rem rgba(0, 100, 0, 0.25);
    }

    .border-gold {
        border-color: #FFD700 !important;
    }

    button[type="submit"]:hover {
        background-color: #004d00;
        border-color: #FFD700;
        transform: translateY(-1px);
        transition: 0.2s;
    }
</style>
