@model Disaster_Alleviation_Web_App.Areas.Admin.Models.DashboardViewModel
@{
    ViewData["Title"] = "Admin Dashboard";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"]  Gift of the Givers</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <style>
        :root {
            --gift-green: #006747;
            --gift-green-light: #008055;
            --gift-gold: #D4AF37;
            --gift-gold-light: #F4E4A6;
            --white: #FFFFFF;
            --light-bg: #F8F9FA;
            --border-color: #E9ECEF;
            --text-dark: #333333;
            --text-muted: #6C757D;
        }

        body {
            font-family: "Segoe UI", Roboto, Arial, sans-serif;
            background-color: #f9fdfb;
            padding-top: 20px;
        }

        .text-gift-green {
            color: #006747 !important;
        }

        .bg-gift-green {
            background-color: #006747 !important;
        }

        .btn-gift-gold {
            background-color: #FFD700;
            color: #004d00;
            font-weight: bold;
            border: none;
            transition: 0.3s ease-in-out;
        }

            .btn-gift-gold:hover {
                background-color: #e6c200;
                color: #002d00;
            }

        .btn-success {
            background: linear-gradient(135deg, var(--gift-green), var(--gift-green-light));
            border: none;
        }

        .card {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            border: none;
            border-radius: 12px;
        }

            .card:hover {
                transform: translateY(-5px);
                box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
            }

        .stat-card {
            background: linear-gradient(135deg, var(--white), var(--light-bg));
            border-left: 4px solid var(--gift-green);
        }

        .quick-action {
            border-radius: 12px;
            margin-bottom: 12px;
            border-left: 6px solid #006747;
            background-color: #ffffff;
            font-weight: 500;
            transition: all 0.3s;
            cursor: pointer;
        }

            .quick-action:hover {
                background-color: #e6f2ed;
                color: #004d00;
                transform: translateX(5px);
            }

        .dashboard-header {
            background: linear-gradient(135deg, var(--gift-green), var(--gift-green-light));
            color: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .metric-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

            .metric-card:hover {
                transform: translateY(-3px);
                box-shadow: 0 6px 12px rgba(0,0,0,0.15);
            }

        .metric-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--gift-green);
        }

        .metric-label {
            color: var(--text-muted);
            font-weight: 500;
        }

        .alert-card {
            border-left: 4px solid #dc3545;
        }

        .warning-card {
            border-left: 4px solid #ffc107;
        }

        .info-card {
            border-left: 4px solid #17a2b8;
        }

        .recent-activity {
            max-height: 400px;
            overflow-y: auto;
        }

        .activity-item {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            transition: background-color 0.2s ease;
            cursor: pointer;
        }

            .activity-item:hover {
                background-color: var(--light-bg);
            }

        .nav-tabs .nav-link {
            color: var(--gift-green);
            font-weight: 500;
        }

            .nav-tabs .nav-link.active {
                background-color: var(--gift-green);
                color: white;
                border: none;
            }

        .badge {
            font-weight: 500;
            padding: 6px 12px;
        }

        .modal-content {
            border-radius: 12px;
            border: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--gift-green), var(--gift-green-light));
            color: white;
            border-radius: 12px 12px 0 0;
            padding: 1.5rem;
        }

        .modal-footer {
            border-top: 1px solid var(--border-color);
            padding: 1.5rem;
        }

        .form-label {
            font-weight: 600;
            color: var(--text-dark);
        }

        .form-control, .form-select {
            border-radius: 8px;
            padding: 10px 15px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

            .form-control:focus, .form-select:focus {
                border-color: var(--gift-green);
                box-shadow: 0 0 0 0.25rem rgba(0, 103, 71, 0.25);
            }

        .clickable-row {
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

            .clickable-row:hover {
                background-color: rgba(0, 103, 71, 0.05);
            }

        .navbar-brand {
            font-weight: bold;
            font-size: 1.5rem;
        }

        .action-buttons {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }

        .btn-sm {
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
        }

        .bg-gold {
            background-color: #FFD700 !important;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-gift-green fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="https://giftofthegivers.org/wp-content/uploads/2024/01/logo.png"
                     alt="Gift of the Givers"
                     height="40"
                     class="me-2">
            </a>
            <div class="navbar-nav ms-auto">
                <span class="navbar-text me-3">
                    <i class="bi bi-person-circle me-1"></i>Administrator
                </span>
                <button class="btn btn-outline-light btn-sm">
                    <i class="bi bi-box-arrow-right me-1"></i>Logout
                </button>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-5 pt-4">
        <!-- Dashboard Header -->
        <div class="dashboard-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1 class="fw-bold mb-2">Admin Dashboard</h1>
                    <p class="mb-0 opacity-75">Comprehensive management system for Gift of the Givers disaster relief operations</p>
                </div>
                <div class="col-md-4 text-end">
                    <div class="d-flex gap-2 justify-content-end">
                        <span class="badge bg-light text-dark">
                            <i class="bi bi-person-circle me-1"></i>Administrator
                        </span>
                        <span class="badge bg-warning text-dark">
                            <i class="bi bi-clock me-1"></i>@DateTime.Now.ToString("MMM dd, yyyy")
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Key Metrics Section -->
        <div class="row g-4 mb-4">
            <div class="col-xl-3 col-md-6">
                <div class="metric-card stat-card" data-bs-toggle="modal" data-bs-target="#usersModal">
                    <div class="metric-value">@Model.TotalUsers</div>
                    <div class="metric-label">Total Users</div>
                    <div class="mt-3">
                        <button class="btn btn-sm btn-gift-gold rounded-pill px-3">
                            Manage Users
                        </button>
                    </div>
                </div>
            </div>

            <div class="col-xl-3 col-md-6">
                <div class="metric-card stat-card" data-bs-toggle="modal" data-bs-target="#donorsModal">
                    <div class="metric-value">@Model.TotalDonors</div>
                    <div class="metric-label">Total Donors</div>
                    <div class="mt-3">
                        <button class="btn btn-sm btn-gift-gold rounded-pill px-3">
                            View Donors
                        </button>
                    </div>
                </div>
            </div>

            <div class="col-xl-3 col-md-6">
                <div class="metric-card stat-card" data-bs-toggle="modal" data-bs-target="#helpersModal">
                    <div class="metric-value">@Model.TotalHelpers</div>
                    <div class="metric-label">Total Volunteers</div>
                    <div class="mt-3">
                        <button class="btn btn-sm btn-gift-gold rounded-pill px-3">
                            Manage Volunteers
                        </button>
                    </div>
                </div>
            </div>

            <div class="col-xl-3 col-md-6">
                <div class="metric-card stat-card" data-bs-toggle="modal" data-bs-target="#reportsModal">
                    <div class="metric-value">@(Model.TotalUsers + Model.TotalDonors + Model.TotalHelpers)</div>
                    <div class="metric-label">Total Community</div>
                    <div class="mt-3">
                        <span class="badge bg-success">Active</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Dashboard Content -->
        <div class="row g-4">
            <!-- Left Column - Quick Actions & Alerts -->
            <div class="col-lg-4">
                <!-- Quick Actions -->
                <div class="card mb-4">
                    <div class="card-header bg-gift-green text-white">
                        <h5 class="mb-0 fw-bold">
                            <i class="bi bi-lightning-charge me-2"></i>Quick Actions
                        </h5>
                    </div>
                    <div class="card-body p-0">
                        <div class="list-group list-group-flush">
                            <button class="list-group-item list-group-item-action quick-action" data-bs-toggle="modal" data-bs-target="#createProjectModal">
                                <i class="bi bi-plus-circle me-2 text-gift-green"></i>
                                Create New Project
                            </button>
                            <button class="list-group-item list-group-item-action quick-action" data-bs-toggle="modal" data-bs-target="#manageProjectsModal">
                                <i class="bi bi-gear me-2 text-gift-green"></i>
                                Manage Projects
                            </button>
                            <button class="list-group-item list-group-item-action quick-action" data-bs-toggle="modal" data-bs-target="#incidentReportsModal">
                                <i class="bi bi-exclamation-triangle me-2 text-gift-green"></i>
                                Incident Reports
                            </button>
                            <button class="list-group-item list-group-item-action quick-action" data-bs-toggle="modal" data-bs-target="#donationManagementModal">
                                <i class="bi bi-box-seam me-2 text-gift-green"></i>
                                Donation Management
                            </button>
                            <button class="list-group-item list-group-item-action quick-action" data-bs-toggle="modal" data-bs-target="#volunteerManagementModal">
                                <i class="bi bi-people me-2 text-gift-green"></i>
                                Volunteer Management
                            </button>
                            <button class="list-group-item list-group-item-action quick-action" data-bs-toggle="modal" data-bs-target="#reportsModal">
                                <i class="bi bi-graph-up me-2 text-gift-green"></i>
                                View Reports
                            </button>
                        </div>
                    </div>
                </div>

                <!-- System Alerts -->
                <div class="card alert-card">
                    <div class="card-header bg-danger text-white">
                        <h5 class="mb-0 fw-bold">
                            <i class="bi bi-bell me-2"></i>Urgent Alerts
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-warning mb-3">
                            <h6 class="alert-heading">
                                <i class="bi bi-exclamation-triangle me-2"></i>Pending Incident Reports
                            </h6>
                            <p class="mb-1">5 new incident reports require review</p>
                            <small class="text-muted">Last updated: 2 hours ago</small>
                        </div>
                        <div class="alert alert-info mb-3">
                            <h6 class="alert-heading">
                                <i class="bi bi-box-seam me-2"></i>Donation Coordination
                            </h6>
                            <p class="mb-1">Medical supplies awaiting distribution</p>
                            <small class="text-muted">15 items pending assignment</small>
                        </div>
                        <div class="alert alert-success">
                            <h6 class="alert-heading">
                                <i class="bi bi-people me-2"></i>Volunteer Requests
                            </h6>
                            <p class="mb-1">12 new volunteer applications</p>
                            <small class="text-muted">Require screening</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Middle Column - Recent Activity & Statistics -->
            <div class="col-lg-8">
                <!-- Tabs Navigation -->
                <ul class="nav nav-tabs mb-4" id="dashboardTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="overview-tab" data-bs-toggle="tab" data-bs-target="#overview" type="button" role="tab">
                            <i class="bi bi-speedometer2 me-2"></i>Overview
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="incidents-tab" data-bs-toggle="tab" data-bs-target="#incidents" type="button" role="tab">
                            <i class="bi bi-exclamation-triangle me-2"></i>Incidents
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="donations-tab" data-bs-toggle="tab" data-bs-target="#donations" type="button" role="tab">
                            <i class="bi bi-box-seam me-2"></i>Donations
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="volunteers-tab" data-bs-toggle="tab" data-bs-target="#volunteers" type="button" role="tab">
                            <i class="bi bi-people me-2"></i>Volunteers
                        </button>
                    </li>
                </ul>

                <!-- Tabs Content -->
                <div class="tab-content" id="dashboardTabsContent">
                    <!-- Overview Tab -->
                    <div class="tab-pane fade show active" id="overview" role="tabpanel">
                        <div class="row g-4">
                            <!-- Recent Activity -->
                            <div class="col-md-6">
                                <div class="card h-100">
                                    <div class="card-header bg-gift-green text-white">
                                        <h5 class="mb-0 fw-bold">
                                            <i class="bi bi-activity me-2"></i>Recent Activity
                                        </h5>
                                    </div>
                                    <div class="card-body recent-activity">
                                        <div class="activity-item" onclick="showToast('New incident report details loaded')">
                                            <div class="d-flex justify-content-between align-items-start">
                                                <div>
                                                    <h6 class="fw-bold mb-1">New Incident Report</h6>
                                                    <p class="mb-1 text-muted">Flooding reported in Durban area</p>
                                                    <small class="text-muted">2 hours ago</small>
                                                </div>
                                                <span class="badge bg-warning text-dark">Pending</span>
                                            </div>
                                        </div>
                                        <div class="activity-item" onclick="showToast('Donation details displayed')">
                                            <div class="d-flex justify-content-between align-items-start">
                                                <div>
                                                    <h6 class="fw-bold mb-1">Donation Received</h6>
                                                    <p class="mb-1 text-muted">Medical supplies from ABC Pharma</p>
                                                    <small class="text-muted">4 hours ago</small>
                                                </div>
                                                <span class="badge bg-success">Processed</span>
                                            </div>
                                        </div>
                                        <div class="activity-item" onclick="showToast('Volunteer profile opened')">
                                            <div class="d-flex justify-content-between align-items-start">
                                                <div>
                                                    <h6 class="fw-bold mb-1">Volunteer Registered</h6>
                                                    <p class="mb-1 text-muted">John Smith - Medical Professional</p>
                                                    <small class="text-muted">6 hours ago</small>
                                                </div>
                                                <span class="badge bg-info">Screening</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Statistics Overview -->
                            <div class="col-md-6">
                                <div class="card h-100">
                                    <div class="card-header bg-gold text-dark">
                                        <h5 class="mb-0 fw-bold">
                                            <i class="bi bi-graph-up me-2"></i>System Statistics
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row g-3 text-center">
                                            <div class="col-6">
                                                <div class="metric-card bg-light rounded-3 p-3" data-bs-toggle="modal" data-bs-target="#incidentReportsModal">
                                                    <div class="metric-value text-primary">24</div>
                                                    <div class="metric-label">Active Incidents</div>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="metric-card bg-light rounded-3 p-3" data-bs-toggle="modal" data-bs-target="#donationManagementModal">
                                                    <div class="metric-value text-success">156</div>
                                                    <div class="metric-label">Total Donations</div>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="metric-card bg-light rounded-3 p-3" data-bs-toggle="modal" data-bs-target="#volunteerManagementModal">
                                                    <div class="metric-value text-warning">89</div>
                                                    <div class="metric-label">Active Volunteers</div>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="metric-card bg-light rounded-3 p-3" data-bs-toggle="modal" data-bs-target="#manageProjectsModal">
                                                    <div class="metric-value text-info">12</div>
                                                    <div class="metric-label">Ongoing Projects</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mt-4">
                                            <div class="d-grid gap-2">
                                                <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#reportsModal">
                                                    <i class="bi bi-graph-up me-2"></i>View Detailed Reports
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Incidents Tab -->
                    <div class="tab-pane fade" id="incidents" role="tabpanel">
                        <div class="card">
                            <div class="card-header bg-gift-green text-white d-flex justify-content-between align-items-center">
                                <h5 class="mb-0 fw-bold">
                                    <i class="bi bi-exclamation-triangle me-2"></i>Incident Reports
                                </h5>
                                <button class="btn btn-gift-gold" data-bs-toggle="modal" data-bs-target="#createIncidentModal">
                                    <i class="bi bi-plus-circle me-2"></i>Report Incident
                                </button>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Type</th>
                                                <th>Location</th>
                                                <th>Severity</th>
                                                <th>Status</th>
                                                <th>Reported</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>INC-001</td>
                                                <td>Flooding</td>
                                                <td>Durban, KZN</td>
                                                <td><span class="badge bg-danger">High</span></td>
                                                <td><span class="badge bg-warning">Under Review</span></td>
                                                <td>2 hours ago</td>
                                                <td>
                                                    <div class="action-buttons">
                                                        <button class="btn btn-sm btn-outline-primary" onclick="viewIncident('INC-001')">
                                                            <i class="bi bi-eye"></i>
                                                        </button>
                                                        <button class="btn btn-sm btn-outline-success" onclick="updateIncidentStatus('INC-001', 'verified')">
                                                            <i class="bi bi-check"></i>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>INC-002</td>
                                                <td>Earthquake</td>
                                                <td>Johannesburg, GP</td>
                                                <td><span class="badge bg-warning">Medium</span></td>
                                                <td><span class="badge bg-success">Verified</span></td>
                                                <td>5 hours ago</td>
                                                <td>
                                                    <div class="action-buttons">
                                                        <button class="btn btn-sm btn-outline-primary" onclick="viewIncident('INC-002')">
                                                            <i class="bi bi-eye"></i>
                                                        </button>
                                                        <button class="btn btn-sm btn-outline-info" data-bs-toggle="modal" data-bs-target="#updateIncidentModal">
                                                            <i class="bi bi-pencil"></i>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Donations Tab -->
                    <div class="tab-pane fade" id="donations" role="tabpanel">
                        <div class="card">
                            <div class="card-header bg-gift-green text-white d-flex justify-content-between align-items-center">
                                <h5 class="mb-0 fw-bold">
                                    <i class="bi bi-box-seam me-2"></i>Donation Management
                                </h5>
                                <button class="btn btn-gift-gold" data-bs-toggle="modal" data-bs-target="#createDonationModal">
                                    <i class="bi bi-plus-circle me-2"></i>Add Donation
                                </button>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Donation ID</th>
                                                <th>Type</th>
                                                <th>Donor</th>
                                                <th>Items/Amount</th>
                                                <th>Status</th>
                                                <th>Date</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>DON-001</td>
                                                <td>Medical</td>
                                                <td>ABC Pharma</td>
                                                <td>15 Medical Kits</td>
                                                <td><span class="badge bg-warning">Processing</span></td>
                                                <td>Today</td>
                                                <td>
                                                    <div class="action-buttons">
                                                        <button class="btn btn-sm btn-outline-primary" onclick="viewDonation('DON-001')">
                                                            <i class="bi bi-eye"></i>
                                                        </button>
                                                        <button class="btn btn-sm btn-outline-success" onclick="processDonation('DON-001')">
                                                            <i class="bi bi-check"></i>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>DON-002</td>
                                                <td>Food</td>
                                                <td>Local Supermarket</td>
                                                <td>50 Food Parcels</td>
                                                <td><span class="badge bg-success">Distributed</span></td>
                                                <td>Yesterday</td>
                                                <td>
                                                    <div class="action-buttons">
                                                        <button class="btn btn-sm btn-outline-primary" onclick="viewDonation('DON-002')">
                                                            <i class="bi bi-eye"></i>
                                                        </button>
                                                        <button class="btn btn-sm btn-outline-info" data-bs-toggle="modal" data-bs-target="#updateDonationModal">
                                                            <i class="bi bi-pencil"></i>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Volunteers Tab -->
                    <div class="tab-pane fade" id="volunteers" role="tabpanel">
                        <div class="card">
                            <div class="card-header bg-gift-green text-white d-flex justify-content-between align-items-center">
                                <h5 class="mb-0 fw-bold">
                                    <i class="bi bi-people me-2"></i>Volunteer Management
                                </h5>
                                <button class="btn btn-gift-gold" data-bs-toggle="modal" data-bs-target="#createVolunteerModal">
                                    <i class="bi bi-plus-circle me-2"></i>Add Volunteer
                                </button>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Volunteer ID</th>
                                                <th>Name</th>
                                                <th>Skills</th>
                                                <th>Availability</th>
                                                <th>Status</th>
                                                <th>Assigned Tasks</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>VOL-001</td>
                                                <td>John Smith</td>
                                                <td>Medical, First Aid</td>
                                                <td>Full-time</td>
                                                <td><span class="badge bg-success">Active</span></td>
                                                <td>3 tasks</td>
                                                <td>
                                                    <div class="action-buttons">
                                                        <button class="btn btn-sm btn-outline-primary" onclick="viewVolunteer('VOL-001')">
                                                            <i class="bi bi-eye"></i>
                                                        </button>
                                                        <button class="btn btn-sm btn-outline-info" data-bs-toggle="modal" data-bs-target="#updateVolunteerModal">
                                                            <i class="bi bi-pencil"></i>
                                                        </button>
                                                        <button class="btn btn-sm btn-outline-warning" data-bs-toggle="modal" data-bs-target="#assignTaskModal">
                                                            <i class="bi bi-person-check"></i>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>VOL-002</td>
                                                <td>Sarah Johnson</td>
                                                <td>Logistics, Driving</td>
                                                <td>Part-time</td>
                                                <td><span class="badge bg-warning">Pending</span></td>
                                                <td>0 tasks</td>
                                                <td>
                                                    <div class="action-buttons">
                                                        <button class="btn btn-sm btn-outline-primary" onclick="viewVolunteer('VOL-002')">
                                                            <i class="bi bi-eye"></i>
                                                        </button>
                                                        <button class="btn btn-sm btn-outline-success" onclick="approveVolunteer('VOL-002')">
                                                            <i class="bi bi-check"></i>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container position-fixed top-0 end-0 p-3">
        <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header bg-success text-white">
                <strong class="me-auto">System Notification</strong>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body" id="toastMessage">
                Operation completed successfully!
            </div>
        </div>
    </div>

    <!-- Modal Dialogs -->
    <!-- Create Volunteer Modal -->
    <div class="modal fade" id="createVolunteerModal" tabindex="-1" aria-labelledby="createVolunteerModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="createVolunteerModalLabel">Add New Volunteer</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="volunteerForm">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="volunteerFirstName" class="form-label">First Name *</label>
                                <input type="text" class="form-control" id="volunteerFirstName" required>
                            </div>
                            <div class="col-md-6">
                                <label for="volunteerLastName" class="form-label">Last Name *</label>
                                <input type="text" class="form-control" id="volunteerLastName" required>
                            </div>
                            <div class="col-md-6">
                                <label for="volunteerEmail" class="form-label">Email *</label>
                                <input type="email" class="form-control" id="volunteerEmail" required>
                            </div>
                            <div class="col-md-6">
                                <label for="volunteerPhone" class="form-label">Phone *</label>
                                <input type="tel" class="form-control" id="volunteerPhone" required>
                            </div>
                            <div class="col-12">
                                <label for="volunteerSkills" class="form-label">Skills & Qualifications</label>
                                <select class="form-select" id="volunteerSkills" multiple>
                                    <option value="medical">Medical/First Aid</option>
                                    <option value="logistics">Logistics</option>
                                    <option value="construction">Construction</option>
                                    <option value="counseling">Counseling</option>
                                    <option value="driving">Driving</option>
                                    <option value="cooking">Cooking</option>
                                    <option value="translation">Translation</option>
                                </select>
                                <div class="form-text">Hold Ctrl to select multiple skills</div>
                            </div>
                            <div class="col-md-6">
                                <label for="volunteerAvailability" class="form-label">Availability</label>
                                <select class="form-select" id="volunteerAvailability">
                                    <option value="fulltime">Full-time</option>
                                    <option value="parttime">Part-time</option>
                                    <option value="weekends">Weekends Only</option>
                                    <option value="emergency">Emergency Response Only</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="volunteerLocation" class="form-label">Preferred Location</label>
                                <input type="text" class="form-control" id="volunteerLocation">
                            </div>
                            <div class="col-12">
                                <label for="volunteerNotes" class="form-label">Additional Notes</label>
                                <textarea class="form-control" id="volunteerNotes" rows="3"></textarea>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" onclick="submitVolunteerForm()">Add Volunteer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Donation Modal -->
    <div class="modal fade" id="createDonationModal" tabindex="-1" aria-labelledby="createDonationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="createDonationModalLabel">Record New Donation</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="donationForm">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="donationType" class="form-label">Donation Type *</label>
                                <select class="form-select" id="donationType" required onchange="toggleDonationFields()">
                                    <option value="">Select type</option>
                                    <option value="monetary">Monetary</option>
                                    <option value="food">Food</option>
                                    <option value="clothing">Clothing</option>
                                    <option value="medical">Medical Supplies</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="donorName" class="form-label">Donor Name *</label>
                                <input type="text" class="form-control" id="donorName" required>
                            </div>
                            <div class="col-md-6" id="amountField" style="display: none;">
                                <label for="donationAmount" class="form-label">Amount (R)</label>
                                <input type="number" class="form-control" id="donationAmount" min="0" step="0.01">
                            </div>
                            <div class="col-md-6" id="itemsField" style="display: none;">
                                <label for="donationItems" class="form-label">Items/Quantity</label>
                                <input type="text" class="form-control" id="donationItems" placeholder="e.g., 50 food parcels">
                            </div>
                            <div class="col-12">
                                <label for="donationDescription" class="form-label">Description</label>
                                <textarea class="form-control" id="donationDescription" rows="3"></textarea>
                            </div>
                            <div class="col-md-6">
                                <label for="donationDate" class="form-label">Donation Date</label>
                                <input type="date" class="form-control" id="donationDate" value="@DateTime.Now.ToString("yyyy-MM-dd")">
                            </div>
                            <div class="col-md-6">
                                <label for="donationStatus" class="form-label">Status</label>
                                <select class="form-select" id="donationStatus">
                                    <option value="received">Received</option>
                                    <option value="processing">Processing</option>
                                    <option value="distributed">Distributed</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" onclick="submitDonationForm()">Record Donation</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Incident Modal -->
    <div class="modal fade" id="createIncidentModal" tabindex="-1" aria-labelledby="createIncidentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="createIncidentModalLabel">Report New Incident</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="incidentForm">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="incidentType" class="form-label">Incident Type *</label>
                                <select class="form-select" id="incidentType" required>
                                    <option value="">Select type</option>
                                    <option value="flood">Flooding</option>
                                    <option value="earthquake">Earthquake</option>
                                    <option value="fire">Fire</option>
                                    <option value="storm">Storm</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="incidentSeverity" class="form-label">Severity Level *</label>
                                <select class="form-select" id="incidentSeverity" required>
                                    <option value="low">Low</option>
                                    <option value="medium">Medium</option>
                                    <option value="high">High</option>
                                    <option value="critical">Critical</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <label for="incidentLocation" class="form-label">Location *</label>
                                <input type="text" class="form-control" id="incidentLocation" required>
                            </div>
                            <div class="col-12">
                                <label for="incidentDescription" class="form-label">Description *</label>
                                <textarea class="form-control" id="incidentDescription" rows="4" required></textarea>
                            </div>
                            <div class="col-md-6">
                                <label for="reporterName" class="form-label">Reporter Name</label>
                                <input type="text" class="form-control" id="reporterName">
                            </div>
                            <div class="col-md-6">
                                <label for="reporterContact" class="form-label">Reporter Contact</label>
                                <input type="text" class="form-control" id="reporterContact">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" onclick="submitIncidentForm()">Report Incident</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Project Modal -->
    <div class="modal fade" id="createProjectModal" tabindex="-1" aria-labelledby="createProjectModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="createProjectModalLabel">Create New Project</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="projectForm">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="projectName" class="form-label">Project Name *</label>
                                <input type="text" class="form-control" id="projectName" required>
                            </div>
                            <div class="col-md-6">
                                <label for="projectType" class="form-label">Project Type *</label>
                                <select class="form-select" id="projectType" required>
                                    <option value="">Select type</option>
                                    <option value="relief">Relief Operation</option>
                                    <option value="medical">Medical Mission</option>
                                    <option value="education">Education Program</option>
                                    <option value="infrastructure">Infrastructure</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <label for="projectDescription" class="form-label">Description *</label>
                                <textarea class="form-control" id="projectDescription" rows="3" required></textarea>
                            </div>
                            <div class="col-md-6">
                                <label for="projectLocation" class="form-label">Location *</label>
                                <input type="text" class="form-control" id="projectLocation" required>
                            </div>
                            <div class="col-md-6">
                                <label for="projectBudget" class="form-label">Budget (R)</label>
                                <input type="number" class="form-control" id="projectBudget" min="0">
                            </div>
                            <div class="col-md-6">
                                <label for="startDate" class="form-label">Start Date</label>
                                <input type="date" class="form-control" id="startDate">
                            </div>
                            <div class="col-md-6">
                                <label for="endDate" class="form-label">End Date</label>
                                <input type="date" class="form-control" id="endDate">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" onclick="submitProjectForm()">Create Project</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Reports Modal -->
    <div class="modal fade" id="reportsModal" tabindex="-1" aria-labelledby="reportsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="reportsModalLabel">Reports & Analytics</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h6 class="mb-0">Donation Trends</h6>
                                </div>
                                <div class="card-body">
                                    <canvas id="donationChart" height="200"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h6 class="mb-0">Incident Types</h6>
                                </div>
                                <div class="card-body">
                                    <canvas id="incidentChart" height="200"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h6 class="mb-0">Volunteer Activity</h6>
                                </div>
                                <div class="card-body">
                                    <canvas id="volunteerChart" height="200"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h6 class="mb-0">Project Progress</h6>
                                </div>
                                <div class="card-body">
                                    <canvas id="projectChart" height="200"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="generateReport()">Generate Report</button>
                    <button type="button" class="btn btn-success" onclick="exportData()">Export Data</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Additional Modals -->
    <!-- Users Management Modal -->
    <div class="modal fade" id="usersModal" tabindex="-1" aria-labelledby="usersModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="usersModalLabel">User Management</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="d-flex justify-content-between mb-3">
                        <div class="input-group" style="max-width: 300px;">
                            <input type="text" class="form-control" placeholder="Search users...">
                            <button class="btn btn-outline-secondary" type="button">
                                <i class="bi bi-search"></i>
                            </button>
                        </div>
                        <button class="btn btn-success">
                            <i class="bi bi-plus-circle me-2"></i>Add User
                        </button>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>User ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Role</th>
                                    <th>Status</th>
                                    <th>Last Login</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>USR-001</td>
                                    <td>Admin User</td>
                                    <td>admin@giftofthegivers.org</td>
                                    <td><span class="badge bg-danger">Administrator</span></td>
                                    <td><span class="badge bg-success">Active</span></td>
                                    <td>Today, 10:30 AM</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-info">
                                                <i class="bi bi-pencil"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-warning">
                                                <i class="bi bi-key"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>USR-002</td>
                                    <td>Coordinator</td>
                                    <td>coordinator@giftofthegivers.org</td>
                                    <td><span class="badge bg-warning">Coordinator</span></td>
                                    <td><span class="badge bg-success">Active</span></td>
                                    <td>Yesterday, 3:45 PM</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-info">
                                                <i class="bi bi-pencil"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-warning">
                                                <i class="bi bi-key"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Donors Management Modal -->
    <div class="modal fade" id="donorsModal" tabindex="-1" aria-labelledby="donorsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="donorsModalLabel">Donor Management</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-4">
                        <div class="col-md-4">
                            <div class="card bg-light">
                                <div class="card-body text-center">
                                    <h3 class="text-success">@Model.TotalDonors</h3>
                                    <p class="mb-0">Total Donors</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card bg-light">
                                <div class="card-body text-center">
                                    <h3 class="text-primary">R 245,680</h3>
                                    <p class="mb-0">Total Donations</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card bg-light">
                                <div class="card-body text-center">
                                    <h3 class="text-warning">89</h3>
                                    <p class="mb-0">Active This Month</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Donor ID</th>
                                    <th>Organization/Name</th>
                                    <th>Contact</th>
                                    <th>Donation Type</th>
                                    <th>Last Donation</th>
                                    <th>Total Contributions</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>DNR-001</td>
                                    <td>ABC Pharma</td>
                                    <td>contact@abcpharma.co.za</td>
                                    <td><span class="badge bg-info">Medical Supplies</span></td>
                                    <td>Today</td>
                                    <td>R 45,000</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-success">
                                                <i class="bi bi-envelope"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>DNR-002</td>
                                    <td>Local Supermarket</td>
                                    <td>manager@localsuper.co.za</td>
                                    <td><span class="badge bg-success">Food Items</span></td>
                                    <td>Yesterday</td>
                                    <td>R 28,500</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-success">
                                                <i class="bi bi-envelope"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Export Donors List</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Helpers/Volunteers Modal -->
    <div class="modal fade" id="helpersModal" tabindex="-1" aria-labelledby="helpersModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="helpersModalLabel">Volunteer Management</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="d-flex justify-content-between mb-3">
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-outline-primary active">All Volunteers</button>
                            <button type="button" class="btn btn-outline-primary">Active</button>
                            <button type="button" class="btn btn-outline-primary">Pending</button>
                            <button type="button" class="btn btn-outline-primary">Inactive</button>
                        </div>
                        <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#createVolunteerModal">
                            <i class="bi bi-plus-circle me-2"></i>Add Volunteer
                        </button>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Volunteer ID</th>
                                    <th>Name</th>
                                    <th>Skills</th>
                                    <th>Availability</th>
                                    <th>Status</th>
                                    <th>Assigned Tasks</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>VOL-001</td>
                                    <td>John Smith</td>
                                    <td>Medical, First Aid</td>
                                    <td>Full-time</td>
                                    <td><span class="badge bg-success">Active</span></td>
                                    <td>3 tasks</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-info">
                                                <i class="bi bi-pencil"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-warning">
                                                <i class="bi bi-person-check"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>VOL-002</td>
                                    <td>Sarah Johnson</td>
                                    <td>Logistics, Driving</td>
                                    <td>Part-time</td>
                                    <td><span class="badge bg-warning">Pending</span></td>
                                    <td>0 tasks</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-success">
                                                <i class="bi bi-check"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Send Bulk Message</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Manage Projects Modal -->
    <div class="modal fade" id="manageProjectsModal" tabindex="-1" aria-labelledby="manageProjectsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="manageProjectsModalLabel">Project Management</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="card bg-primary text-white">
                                <div class="card-body text-center">
                                    <h3>12</h3>
                                    <p class="mb-0">Active Projects</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-success text-white">
                                <div class="card-body text-center">
                                    <h3>8</h3>
                                    <p class="mb-0">Completed</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-warning text-white">
                                <div class="card-body text-center">
                                    <h3>3</h3>
                                    <p class="mb-0">Planning</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-danger text-white">
                                <div class="card-body text-center">
                                    <h3>1</h3>
                                    <p class="mb-0">On Hold</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Project ID</th>
                                    <th>Project Name</th>
                                    <th>Type</th>
                                    <th>Location</th>
                                    <th>Status</th>
                                    <th>Budget</th>
                                    <th>Progress</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>PRJ-001</td>
                                    <td>Flood Relief KZN</td>
                                    <td><span class="badge bg-info">Relief Operation</span></td>
                                    <td>Durban, KZN</td>
                                    <td><span class="badge bg-success">Active</span></td>
                                    <td>R 250,000</td>
                                    <td>
                                        <div class="progress" style="height: 8px;">
                                            <div class="progress-bar bg-success" role="progressbar" style="width: 75%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                        <small>75%</small>
                                    </td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-info">
                                                <i class="bi bi-pencil"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-warning">
                                                <i class="bi bi-graph-up"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>PRJ-002</td>
                                    <td>Medical Outreach GP</td>
                                    <td><span class="badge bg-danger">Medical Mission</span></td>
                                    <td>Johannesburg, GP</td>
                                    <td><span class="badge bg-warning">Planning</span></td>
                                    <td>R 180,000</td>
                                    <td>
                                        <div class="progress" style="height: 8px;">
                                            <div class="progress-bar bg-warning" role="progressbar" style="width: 30%;" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                        <small>30%</small>
                                    </td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-info">
                                                <i class="bi bi-pencil"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-warning">
                                                <i class="bi bi-graph-up"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#createProjectModal">New Project</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Incident Reports Modal -->
    <div class="modal fade" id="incidentReportsModal" tabindex="-1" aria-labelledby="incidentReportsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="incidentReportsModalLabel">Incident Reports</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="card bg-danger text-white">
                                <div class="card-body text-center">
                                    <h3>5</h3>
                                    <p class="mb-0">Critical</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-warning text-white">
                                <div class="card-body text-center">
                                    <h3>12</h3>
                                    <p class="mb-0">High Priority</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-info text-white">
                                <div class="card-body text-center">
                                    <h3>7</h3>
                                    <p class="mb-0">Medium</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-success text-white">
                                <div class="card-body text-center">
                                    <h3>24</h3>
                                    <p class="mb-0">Resolved</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Incident ID</th>
                                    <th>Type</th>
                                    <th>Location</th>
                                    <th>Severity</th>
                                    <th>Status</th>
                                    <th>Reported</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>INC-001</td>
                                    <td>Flooding</td>
                                    <td>Durban, KZN</td>
                                    <td><span class="badge bg-danger">High</span></td>
                                    <td><span class="badge bg-warning">Under Review</span></td>
                                    <td>2 hours ago</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-success">
                                                <i class="bi bi-check"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-info">
                                                <i class="bi bi-pencil"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>INC-002</td>
                                    <td>Earthquake</td>
                                    <td>Johannesburg, GP</td>
                                    <td><span class="badge bg-warning">Medium</span></td>
                                    <td><span class="badge bg-success">Verified</span></td>
                                    <td>5 hours ago</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-info">
                                                <i class="bi bi-pencil"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#createIncidentModal">Report New Incident</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Donation Management Modal -->
    <div class="modal fade" id="donationManagementModal" tabindex="-1" aria-labelledby="donationManagementModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="donationManagementModalLabel">Donation Management</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="card bg-primary text-white">
                                <div class="card-body text-center">
                                    <h3>156</h3>
                                    <p class="mb-0">Total Donations</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-warning text-white">
                                <div class="card-body text-center">
                                    <h3>23</h3>
                                    <p class="mb-0">Pending</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-info text-white">
                                <div class="card-body text-center">
                                    <h3>45</h3>
                                    <p class="mb-0">Processing</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-success text-white">
                                <div class="card-body text-center">
                                    <h3>88</h3>
                                    <p class="mb-0">Distributed</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Donation ID</th>
                                    <th>Type</th>
                                    <th>Donor</th>
                                    <th>Items/Amount</th>
                                    <th>Status</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>DON-001</td>
                                    <td>Medical</td>
                                    <td>ABC Pharma</td>
                                    <td>15 Medical Kits</td>
                                    <td><span class="badge bg-warning">Processing</span></td>
                                    <td>Today</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-success">
                                                <i class="bi bi-check"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>DON-002</td>
                                    <td>Food</td>
                                    <td>Local Supermarket</td>
                                    <td>50 Food Parcels</td>
                                    <td><span class="badge bg-success">Distributed</span></td>
                                    <td>Yesterday</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-info">
                                                <i class="bi bi-pencil"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#createDonationModal">Add Donation</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Volunteer Management Modal -->
    <div class="modal fade" id="volunteerManagementModal" tabindex="-1" aria-labelledby="volunteerManagementModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="volunteerManagementModalLabel">Volunteer Management</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="card bg-primary text-white">
                                <div class="card-body text-center">
                                    <h3>@Model.TotalHelpers</h3>
                                    <p class="mb-0">Total Volunteers</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-success text-white">
                                <div class="card-body text-center">
                                    <h3>89</h3>
                                    <p class="mb-0">Active</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-warning text-white">
                                <div class="card-body text-center">
                                    <h3>12</h3>
                                    <p class="mb-0">Pending</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-info text-white">
                                <div class="card-body text-center">
                                    <h3>34</h3>
                                    <p class="mb-0">On Assignment</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Volunteer ID</th>
                                    <th>Name</th>
                                    <th>Skills</th>
                                    <th>Availability</th>
                                    <th>Status</th>
                                    <th>Assigned Tasks</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>VOL-001</td>
                                    <td>John Smith</td>
                                    <td>Medical, First Aid</td>
                                    <td>Full-time</td>
                                    <td><span class="badge bg-success">Active</span></td>
                                    <td>3 tasks</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-info">
                                                <i class="bi bi-pencil"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-warning">
                                                <i class="bi bi-person-check"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>VOL-002</td>
                                    <td>Sarah Johnson</td>
                                    <td>Logistics, Driving</td>
                                    <td>Part-time</td>
                                    <td><span class="badge bg-warning">Pending</span></td>
                                    <td>0 tasks</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-primary">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-success">
                                                <i class="bi bi-check"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#createVolunteerModal">Add Volunteer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Additional Modals for Update Actions -->
    <!-- Update Incident Modal -->
    <div class="modal fade" id="updateIncidentModal" tabindex="-1" aria-labelledby="updateIncidentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="updateIncidentModalLabel">Update Incident Report</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="updateIncidentForm">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="updateIncidentType" class="form-label">Incident Type</label>
                                <select class="form-select" id="updateIncidentType">
                                    <option value="flood" selected>Flooding</option>
                                    <option value="earthquake">Earthquake</option>
                                    <option value="fire">Fire</option>
                                    <option value="storm">Storm</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="updateIncidentSeverity" class="form-label">Severity Level</label>
                                <select class="form-select" id="updateIncidentSeverity">
                                    <option value="low">Low</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="high">High</option>
                                    <option value="critical">Critical</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <label for="updateIncidentLocation" class="form-label">Location</label>
                                <input type="text" class="form-control" id="updateIncidentLocation" value="Johannesburg, GP">
                            </div>
                            <div class="col-12">
                                <label for="updateIncidentDescription" class="form-label">Description</label>
                                <textarea class="form-control" id="updateIncidentDescription" rows="4">Minor earthquake reported in Johannesburg area. No major damages reported.</textarea>
                            </div>
                            <div class="col-md-6">
                                <label for="updateIncidentStatus" class="form-label">Status</label>
                                <select class="form-select" id="updateIncidentStatus">
                                    <option value="reported">Reported</option>
                                    <option value="verified" selected>Verified</option>
                                    <option value="in_progress">In Progress</option>
                                    <option value="resolved">Resolved</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="updateIncidentPriority" class="form-label">Priority</label>
                                <select class="form-select" id="updateIncidentPriority">
                                    <option value="low">Low</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="high">High</option>
                                    <option value="urgent">Urgent</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" onclick="showToast('Incident updated successfully!')">Update Incident</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Update Donation Modal -->
    <div class="modal fade" id="updateDonationModal" tabindex="-1" aria-labelledby="updateDonationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="updateDonationModalLabel">Update Donation Record</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="updateDonationForm">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="updateDonationType" class="form-label">Donation Type</label>
                                <select class="form-select" id="updateDonationType">
                                    <option value="food" selected>Food</option>
                                    <option value="clothing">Clothing</option>
                                    <option value="medical">Medical Supplies</option>
                                    <option value="monetary">Monetary</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="updateDonorName" class="form-label">Donor Name</label>
                                <input type="text" class="form-control" id="updateDonorName" value="Local Supermarket">
                            </div>
                            <div class="col-12">
                                <label for="updateDonationItems" class="form-label">Items/Quantity</label>
                                <input type="text" class="form-control" id="updateDonationItems" value="50 Food Parcels">
                            </div>
                            <div class="col-12">
                                <label for="updateDonationDescription" class="form-label">Description</label>
                                <textarea class="form-control" id="updateDonationDescription" rows="3">Food parcels containing non-perishable items for disaster relief.</textarea>
                            </div>
                            <div class="col-md-6">
                                <label for="updateDonationDate" class="form-label">Donation Date</label>
                                <input type="date" class="form-control" id="updateDonationDate" value="@DateTime.Now.AddDays(-1).ToString("yyyy-MM-dd")">
                            </div>
                            <div class="col-md-6">
                                <label for="updateDonationStatus" class="form-label">Status</label>
                                <select class="form-select" id="updateDonationStatus">
                                    <option value="received">Received</option>
                                    <option value="processing">Processing</option>
                                    <option value="distributed" selected>Distributed</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" onclick="showToast('Donation updated successfully!')">Update Donation</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Update Volunteer Modal -->
    <div class="modal fade" id="updateVolunteerModal" tabindex="-1" aria-labelledby="updateVolunteerModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="updateVolunteerModalLabel">Update Volunteer Information</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="updateVolunteerForm">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="updateVolunteerFirstName" class="form-label">First Name</label>
                                <input type="text" class="form-control" id="updateVolunteerFirstName" value="John">
                            </div>
                            <div class="col-md-6">
                                <label for="updateVolunteerLastName" class="form-label">Last Name</label>
                                <input type="text" class="form-control" id="updateVolunteerLastName" value="Smith">
                            </div>
                            <div class="col-md-6">
                                <label for="updateVolunteerEmail" class="form-label">Email</label>
                                <input type="email" class="form-control" id="updateVolunteerEmail" value="john.smith@example.com">
                            </div>
                            <div class="col-md-6">
                                <label for="updateVolunteerPhone" class="form-label">Phone</label>
                                <input type="tel" class="form-control" id="updateVolunteerPhone" value="+27 12 345 6789">
                            </div>
                            <div class="col-12">
                                <label for="updateVolunteerSkills" class="form-label">Skills & Qualifications</label>
                                <select class="form-select" id="updateVolunteerSkills" multiple>
                                    <option value="medical" selected>Medical/First Aid</option>
                                    <option value="logistics">Logistics</option>
                                    <option value="construction">Construction</option>
                                    <option value="counseling" selected>Counseling</option>
                                    <option value="driving">Driving</option>
                                    <option value="cooking">Cooking</option>
                                    <option value="translation">Translation</option>
                                </select>
                                <div class="form-text">Hold Ctrl to select multiple skills</div>
                            </div>
                            <div class="col-md-6">
                                <label for="updateVolunteerAvailability" class="form-label">Availability</label>
                                <select class="form-select" id="updateVolunteerAvailability">
                                    <option value="fulltime" selected>Full-time</option>
                                    <option value="parttime">Part-time</option>
                                    <option value="weekends">Weekends Only</option>
                                    <option value="emergency">Emergency Response Only</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="updateVolunteerStatus" class="form-label">Status</label>
                                <select class="form-select" id="updateVolunteerStatus">
                                    <option value="active" selected>Active</option>
                                    <option value="pending">Pending</option>
                                    <option value="inactive">Inactive</option>
                                    <option value="suspended">Suspended</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" onclick="showToast('Volunteer information updated successfully!')">Update Volunteer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Assign Task Modal -->
    <div class="modal fade" id="assignTaskModal" tabindex="-1" aria-labelledby="assignTaskModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="assignTaskModalLabel">Assign Task to Volunteer</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="assignTaskForm">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="taskVolunteer" class="form-label">Volunteer</label>
                                <select class="form-select" id="taskVolunteer">
                                    <option value="VOL-001" selected>John Smith</option>
                                    <option value="VOL-002">Sarah Johnson</option>
                                    <option value="VOL-003">Michael Brown</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="taskProject" class="form-label">Project</label>
                                <select class="form-select" id="taskProject">
                                    <option value="PRJ-001">Flood Relief KZN</option>
                                    <option value="PRJ-002" selected>Medical Outreach GP</option>
                                    <option value="PRJ-003">Education Program WC</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <label for="taskTitle" class="form-label">Task Title</label>
                                <input type="text" class="form-control" id="taskTitle" placeholder="Enter task title">
                            </div>
                            <div class="col-12">
                                <label for="taskDescription" class="form-label">Task Description</label>
                                <textarea class="form-control" id="taskDescription" rows="4" placeholder="Describe the task in detail"></textarea>
                            </div>
                            <div class="col-md-6">
                                <label for="taskPriority" class="form-label">Priority</label>
                                <select class="form-select" id="taskPriority">
                                    <option value="low">Low</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="high">High</option>
                                    <option value="urgent">Urgent</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="taskDeadline" class="form-label">Deadline</label>
                                <input type="date" class="form-control" id="taskDeadline">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" onclick="showToast('Task assigned successfully!')">Assign Task</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        // Toast notification function
        function showToast(message) {
            const toast = new bootstrap.Toast(document.getElementById('liveToast'));
            document.getElementById('toastMessage').textContent = message;
            toast.show();
        }

        // Toggle donation fields based on type
        function toggleDonationFields() {
            const type = document.getElementById('donationType').value;
            const amountField = document.getElementById('amountField');
            const itemsField = document.getElementById('itemsField');

            if (type === 'monetary') {
                amountField.style.display = 'block';
                itemsField.style.display = 'none';
            } else {
                amountField.style.display = 'none';
                itemsField.style.display = 'block';
            }
        }

        // Form submission functions
        function submitVolunteerForm() {
            const form = document.getElementById('volunteerForm');
            if (form.checkValidity()) {
                showToast('Volunteer added successfully!');
                bootstrap.Modal.getInstance(document.getElementById('createVolunteerModal')).hide();
                form.reset();
            } else {
                form.reportValidity();
            }
        }

        function submitDonationForm() {
            const form = document.getElementById('donationForm');
            if (form.checkValidity()) {
                showToast('Donation recorded successfully!');
                bootstrap.Modal.getInstance(document.getElementById('createDonationModal')).hide();
                form.reset();
            } else {
                form.reportValidity();
            }
        }

        function submitIncidentForm() {
            const form = document.getElementById('incidentForm');
            if (form.checkValidity()) {
                showToast('Incident reported successfully!');
                bootstrap.Modal.getInstance(document.getElementById('createIncidentModal')).hide();
                form.reset();
            } else {
                form.reportValidity();
            }
        }

        function submitProjectForm() {
            const form = document.getElementById('projectForm');
            if (form.checkValidity()) {
                showToast('Project created successfully!');
                bootstrap.Modal.getInstance(document.getElementById('createProjectModal')).hide();
                form.reset();
            } else {
                form.reportValidity();
            }
        }

        // Action functions
        function viewIncident(id) {
            showToast(`Viewing incident ${id}`);
        }

        function updateIncidentStatus(id, status) {
            showToast(`Incident ${id} status updated to ${status}`);
        }

        function viewDonation(id) {
            showToast(`Viewing donation ${id}`);
        }

        function processDonation(id) {
            showToast(`Processing donation ${id}`);
        }

        function viewVolunteer(id) {
            showToast(`Viewing volunteer ${id}`);
        }

        function approveVolunteer(id) {
            showToast(`Volunteer ${id} approved`);
        }

        function generateReport() {
            showToast('Report generated successfully!');
        }

        function exportData() {
            showToast('Data exported successfully!');
        }

        // Initialize charts when reports modal is shown
        document.getElementById('reportsModal').addEventListener('show.bs.modal', function() {
            setTimeout(initializeCharts, 100);
        });

        function initializeCharts() {
            // Donation Trends Chart
            const donationCtx = document.getElementById('donationChart').getContext('2d');
            new Chart(donationCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Monetary Donations (R)',
                        data: [12000, 19000, 15000, 25000, 22000, 30000],
                        borderColor: '#006747',
                        backgroundColor: 'rgba(0, 103, 71, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: 'Monthly Donation Trends'
                        }
                    }
                }
            });

            // Incident Types Chart
            const incidentCtx = document.getElementById('incidentChart').getContext('2d');
            new Chart(incidentCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Flooding', 'Earthquake', 'Fire', 'Storm', 'Other'],
                    datasets: [{
                        data: [35, 25, 15, 20, 5],
                        backgroundColor: [
                            '#006747',
                            '#FFD700',
                            '#DC3545',
                            '#17A2B8',
                            '#6C757D'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                        },
                        title: {
                            display: true,
                            text: 'Incident Types Distribution'
                        }
                    }
                }
            });

            // Volunteer Activity Chart
            const volunteerCtx = document.getElementById('volunteerChart').getContext('2d');
            new Chart(volunteerCtx, {
                type: 'bar',
                data: {
                    labels: ['Medical', 'Logistics', 'Education', 'Construction', 'Admin'],
                    datasets: [{
                        label: 'Hours Contributed',
                        data: [450, 320, 280, 190, 150],
                        backgroundColor: '#006747'
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: 'Volunteer Activity by Department'
                        }
                    }
                }
            });

            // Project Progress Chart
            const projectCtx = document.getElementById('projectChart').getContext('2d');
            new Chart(projectCtx, {
                type: 'polarArea',
                data: {
                    labels: ['Completed', 'In Progress', 'Planning', 'On Hold'],
                    datasets: [{
                        data: [8, 12, 5, 3],
                        backgroundColor: [
                            '#28A745',
                            '#FFC107',
                            '#17A2B8',
                            '#DC3545'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                        },
                        title: {
                            display: true,
                            text: 'Project Status Overview'
                        }
                    }
                }
            });
        }

        // Auto-refresh data every 30 seconds
        setInterval(function() {
            console.log('Refreshing dashboard data...');
        }, 30000);

        // Initialize tooltips
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
    </script>
</body>
</html>